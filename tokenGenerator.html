<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Tokenizer Generator</title>
		<meta name="description" content="Tokenise Your World with Ease: Introducing Tokeniser - Your One-Click Solution for Creating and Managing Tokens. From Transactions to Ownership, Unleash the Potential Today!" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<!-- fav icon -->
		<link rel="icon" href="assets/images/fav-icon/fav-icon.png">
		
		<!-- bootstarp -->
		<link rel="stylesheet" href="css/vendors/bootstrap.min.css">
		
		<!-- animate.css file -->
		<link rel="stylesheet" href="css/vendors/animate.css">
		
		<!-- Swiper -->
		<link rel="stylesheet" href="css/vendors/swiper-bundle.min.css">
		
		<!-- flaticon -->
		<link rel="stylesheet" href="css/vendors/flaticon/flaticon.css">
		
		<!-- fontAwesome -->
		<link rel="stylesheet" href="css/vendors/all.min.css">
		
		<!-- bootstrap icons -->
		<link rel="stylesheet" href="css/vendors/bootstrap-icons-1.9.1/bootstrap-icons.css">
		
		<!-- Fancybox -->
		<link rel="stylesheet" href="css/vendors/jquery.fancybox.min.css">
		
		<!-- fonts site preconnect -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		
		<!-- fonts site preconnect -->
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		
		<!-- Font Family -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700;800&amp;display=swap">
		
		<!-- main-LTR -->
		<link rel="stylesheet" href="css/main-LTR.css">
        <link rel="stylesheet" href="tokenGenStyle.css">
        <style>
            body {
                background-color: #fff;
            }
            #metamaskButton {
                border: solid 2px #444;
                border-radius: 8px;;
                font-size:20px;
                padding: 15px 30px 15px 65px;
                background: #dd6e2e;
                background-image: url("assets/images/tokenGenerator/metamaskLogo.png");
                background-size: 40px;
                background-repeat: no-repeat;
                background-position: 20px;
                font-weight: bold;
                color: #fff;
                box-shadow: inset 2px 2px 0 #fff, 0 8px 10px -4px rgba(0,0,0,0.4);
                cursor: pointer;
                transition: all 0.4s ease;
            }
          
            #metamaskButton:hover {
                border: solid 2px #444;
                border-radius: 8px;;
                font-size:20px;
                padding: 15px 30px 15px 65px;
                background: #f18b50;
                background-image: url("assets/images/tokenGenerator/metamaskLogo.png");
                background-size: 40px;
                background-repeat: no-repeat;
                background-position: 20px;
                font-weight: bold;
                color: #fff;
                box-shadow: inset 2px 2px 0 #fff, 0 8px 10px -4px rgba(0,0,0,0.4);
                cursor: pointer;
                transition: all 0.4s ease;
            }

            label {
                color:black !important;
            }

            #formTips {display: none;}
        </style>
	</head>
	<body class="h-100">
		<!--Start Page Header-->
		<header class=" header-basic" id="page-header">
			<div class="container">
				<!--Start navbar-->
				<nav class="menu-navbar" id="main-nav">
					<!-- logo image is repeating 2 times above due to navbar old setup, needs to be reviewed -->
					<div class="header-logo"><a class="logo-link" href="#" alt="logo"><img class="logo-img light-logo" loading="lazy" src="assets/images/logo/logo-dark.png" alt="logo"/><img class="logo-img  dark-logo" loading="lazy" src="assets/images/logo/logo-dark.png" alt="logo"/></a></div>
					<div class="links menu-wrapper ">
						<ul class="list-js links-list">
							<li class="nav-item menu-item has-sub-menu"><a class="nav-link menu-link   active" href="index.html/#home">HOME</a></li>
							<li class="nav-item menu-item"><a class="nav-link menu-link" href="index.html/#about">ABOUT</a></li>
							<li class="nav-item menu-item"><a class="nav-link menu-link" href="index.html/#howItWorks">HOW IT WORKS</a></li>
							<li class="nav-item menu-item"><a class="nav-link menu-link" href="index.html/#faq">FAQ </a></li>
							<li class="nav-item menu-item"><a class="nav-link menu-link" href="index.html/#contact-us">CONTACT</a></li>
						</ul>
                        
					</div>
					<div class="controls-box">
                        <button id="metamaskButton">Connect Metamask</button>
						<!--Menu Toggler button-->
						<div class="control  menu-toggler"><span></span><span></span><span></span></div>
						<!--Dark/Light mode button-->
						<!-- <div class="mode-switcher ">
							<div class="switch-inner go-light " title="Switch To Light Mode "><i class="bi bi-sun icon "></i></div>
							<div class="switch-inner go-dark" title="Switch To Dark Mode "><i class="bi bi-moon icon "></i></div>
						</div> -->
						<!--mini shoping cart-->
					</div>
				</nav>
			</div>
			<!--End navbar-->
		</header>
		<!--End Page Header-->
        		<!-- Start  about Section-->
		<section class="about mega-section align-items-center" id="about">
			<div class="container">
				<!-- Start first about div-->
				<div class="content-block m-auto">
					<div class="row">
						<div class="col-12 d-flex justify-content-center mx-auto about-col pad-end">
							<div class="text-area ">
								<div class="sec-heading centered light-title ">
									<div class="content-area text-center d-flex justify-content-center">
										<h2 class=" title wow fadeInUp" data-wow-delay=".2s"><span class='hollow-text d-flex justify-content-center'>TOKENIZER</span></h2>
									</div>

                                    <h3>Creating tokens for <span class='featured-text'>  anything.
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 150" preserveAspectRatio="none">
													<path d="M7.7,145.6C109,125,299.9,116.2,401,121.3c42.1,2.2,87.6,11.8,87.3,25.7"></path></svg>
												</span>
											</h3>
								</div>
								<p class="about-text">
                                    The world's pioneering tool that empowers anyone to establish a token with a mere click.
									Yet, that's not all; it also crafts all the essential components a token necessitates for its effective existence, encompassing logos,
									 web pages, and more. So, dispel your apprehensions, for in the imminent future, we're poised to tokenise everything!
								</p>
							</div>
						</div>
					</div>
                    <div class="container h-100 mt-0">
                        <div class="row h-100 justify-content-center align-items-center">
                            <div class="col-10 col-md-8 col-lg-6">
                                <div class="card shadow-lg" >
                                <div class="card-body">
                                <!-- Form -->
                                <form class="form" id="tokenForm" method="POST" >
                                    <h3 class="card-title m-3 text-dark">Token Information</h3>
                                    <p class="description card-title m-3 text-dark">Basic details about your token.</p>
                                    <!-- Input fields -->
                                    <fieldset class="form-group">
                                        <label for="tokenType" key="typeOfToken">Select Type OF Token</label>
                                        <select  id = "tokenType" class="form-control" name="tokenType" required>
                                            <option value="bep20">BEP20</option>
                                            <option value="erc20">ERC20</option>
                                        </select>
                                    <div class="form-group NameField mb-3">
                                        <label for="tokenName" key="tokenName">Token Name:</label>
                                        <input type="text" class="form-control" id="tokenName" 
                                            placeholder="Token Name (For example: BestToken)" name="tokenName" required>
                                    </div>
                                    <div class="form-group SymbolField mb-3">
                                        <label for="tokenSymbol" key="tokenSymbol">Token Symbol:</label>
                                        <input type="text" class="form-control" id="tokenSymbol" 
                                            placeholder="Token Symbol (For example: BST)" name="tokenSymbol" required>
                                    </div>
                                    <!-- <fieldset class="form-group SupplyField mb-3">
                                        <label for="supplyAmmount" key="SupplyAmount">Initial Supply Amount:</label>
                                        <input id="supplyAmount" aria-label="initial Supply Ammount" class="form-control" type="text" value=1000000000000 />
                                    </fieldset> -->
                                    <fieldset class="form-group MaxSupplyField mb-3">
                                        <label for="maxSupply" key="maxSupply">Max Supply Amount (>= 10 000):</label>
                                        <input id="maxSupply" class="form-control" name="maxSupply" type="number" min="1" max="100000" required/>
                                    </fieldset>

                                    <!-- <a id="addToMetamaskButton" class="btn btn-info shadow text-white mb-3" key="addToMetamaskButtonKey">Add Token to Metamask</a> -->
                                      <br>
                                    <!-- <div id="formTips" class="text-danger" key="FormTipsKey">Please fill out the form completelyã€‚</div> -->
                                    <div id="errorMessage" style="color: red;"></div><br>
                                        <img id="loader1" src="loading.gif" alt=""></img>
                                    <button  id="TokenSubmit" class="btn btn-primary ml-auto" type="submit" title="Next">Create Token</button>
                                    <!-- End input fields -->
                                </form>
                                <div id="successMessage" style="display: none; color: rgb(67, 240, 67);"></div><br>
                                <!-- Form end -->
                            </div>
                        </div>
                    </div>
				</div>
				<!--End first about div-->
				<!-- Start first about div-->
            </div>
                </div>
            </div>
        </section>
            <!-- End back-to-top Component-->   
            <!--     JQuery     -->
            <script src="js/vendors/jquery-3.6.1.min.js"></script>
            <!--     appear     -->
            <script src="js/vendors/appear.min.js"></script>
            <!--     bootstrap     -->
            <script src="js/vendors/bootstrap.bundle.min.js"></script>
            <!--     countTo     -->
            <script src="js/vendors/jquery.countTo.js"></script>
            <!--     wow     -->
            <script src="js/vendors/wow.min.js"></script>
            <!--     swiper     -->
            <script src="js/vendors/swiper-bundle.min.js"></script>
            <!--     particles     -->
            <script src="js/vendors/particles.min.js"></script>
            <!--     Vanilla-tilt     -->
            <script src="js/vendors/vanilla-tilt.min.js"></script>
            <!--     isotope     -->
            <script src="js/vendors/isotope-min.js"></script>
            <!--     fancybox     -->
            <script src="js/vendors/jquery.fancybox.min.js"></script>
            <!--     main     -->
            <script src="js/main.js"></script>
            <script src="js/sweetAlert.js"></script>
            <script src="js/web3.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

            <script>

            document.getElementById('metamaskButton').addEventListener('click', event => {
					let accountAddress;
					let button = event.target;

					window.ethereum.request({method: 'eth_requestAccounts'}).then(accounts => {
					let accountAddress = accounts[0];
					console.log(accountAddress)
					button.textContent = accountAddress;
					})
            });

			async function connectWeb3() {
				if (window.ethereum.request({ method: 'eth_accounts' })) {
					web3.eth.accounts = new Web3(ethereum.request({ method: 'eth_accounts'}));
					window.ethereum.request({method: 'eth_accounts' }).enable();
				}
			}

			async function load() {
				await connectWeb3();
				window.contract = await loadContract();
				updateStatus('Ready!');
			}

			function    updateStatus(status) {
				const web3Logged = document.getElementById('metamaskButton');
				web3Logged.innerHTML = status;
				console.log(status);
			}

            // get a new copy instance of our abi json structure and contract address
            async function loadContractETH() {
                const web3 = new Web3(window.ethereum);
            	return await new web3.eth.Contract([
                {
                "inputs": [
                    {
                    "internalType": "string",
                    "name": "name",
                    "type": "string"
                    },
                    {
                    "internalType": "string",
                    "name": "symbol",
                    "type": "string"
                    },
                    {
                    "internalType": "uint256",
                    "name": "maxSupply",
                    "type": "uint256"
                    }
                ],
                "name": "newToken",
                "outputs": [],
                "stateMutability": "nonpayable",
                "type": "function"
                },
                {
                "inputs": [
                    {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                    },
                    {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                    }
                ],
                "name": "tokens",
                "outputs": [
                    {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                    }
                ],
                "stateMutability": "view",
                "type": "function"
                }
            ],
            '0xBD8D5Acba4f00ffeA7EC84b830028fB4d5a18060'
            );
   //console.log("hey")
	}
    async function loadContractBNB() {
                const web3 = new Web3(window.ethereum);
            	return await new web3.eth.Contract([
                {
                "inputs": [
                    {
                    "internalType": "string",
                    "name": "name",
                    "type": "string"
                    },
                    {
                    "internalType": "string",
                    "name": "symbol",
                    "type": "string"
                    },
                    {
                    "internalType": "uint256",
                    "name": "maxSupply",
                    "type": "uint256"
                    }
                ],
                "name": "newToken",
                "outputs": [],
                "stateMutability": "nonpayable",
                "type": "function"
                },
                {
                "inputs": [
                    {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                    },
                    {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                    }
                ],
                "name": "tokens",
                "outputs": [
                    {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                    }
                ],
                "stateMutability": "view",
                "type": "function"
                }
            ],
            '0xBD8D5Acba4f00ffeA7EC84b830028fB4d5a18060'
            );
   //console.log("hey")
	}
		async function getCurrentAccount() {
			let accountAddress;
					let metaMaskBtn = document.getElementById('metamaskButton');
					window.ethereum.request({method: 'eth_requestAccounts'}).then(accounts => {
					let accountAddress = accounts[0];
					console.log(accountAddress)
					metaMaskBtn.textContent = accountAddress;
		})}

		// async function sendNewTokenInfo() {
		// 	const account = await getCurrentAccount();
		// 	const newTokenInfo = await contract.methods.newToken({type,name,symbol,maxSupply}).send({ from: account });
		// }

            //grab the data from the form
        	document.getElementById("tokenForm").addEventListener("submit", async function(event) {
             event.preventDefault();
             const formData = new FormData(event.target);
             const tokenType = formData.get("tokenType");
             const tokenName = formData.get("tokenName");
             const tokenSymbol = formData.get("tokenSymbol");
             const maxSupply = formData.get("maxSupply");

             const requestData = {
                 tokenType,
                 name: tokenName,
                 symbol: tokenSymbol,
                 maxSupply: parseInt(maxSupply),
             };
             //console.log()
			 let type = requestData.tokenType;
			 let name = requestData.tokenName;
			 let symbol = requestData.symbol;
			 let maxSupplyy = requestData.maxSupply;
                const accounts =  getCurrentAccount();
                const account = accounts[0];
                let contract;
                if(type=='ETH'){
                    contract = await loadContractETH()
                }else{
                    contract = await loadContractBNB()
                }
                console.log(contract);
                const newTokenInfo = contract.methods.newToken(name, symbol, maxSupply).send({
                    from: account,
                    gasPrice: '20000000000'
                });
            })

			async function load() {
			await loadWeb3();
            updateStatus('Ready!');
			window.contract = await loadContract();
			
		}
 
        //      .then(data => {
        //          // Handle the success response from the backend
        //          document.getElementById("successMessage").style.display = "block";
        //          document.getElementById("successMessage").textContent = "Token created successfully!";
        //          document.getElementById("errorMessage").style.display = "none";
        //      })
        //      .catch(error => {
        //          // Handle errors and display an error message to the user
        //          document.getElementById("successMessage").style.display = "none";
        //          document.getElementById("errorMessage").style.display = "block";
        //          document.getElementById("errorMessage").textContent = "Error: " + error.message;
        //          console.error(error);
        //      });
        //  });
  
            </script>
    </body>
</html>
